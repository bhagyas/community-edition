<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
    <bean id="messengerFactory" class="org.alfresco.repo.cluster.HazelcastMessengerFactory">
        <property name="hazelcastInstanceFactory" ref="hazelcastInstanceFactory"/>
    </bean>
    
    <bean id="hazelcastConfig" class="org.alfresco.repo.cluster.HazelcastConfigFactoryBean">
        <property name="configFile" value="classpath:alfresco/hazelcast/hazelcast-udp.xml"/>
        <property name="properties">
            <props>
                <prop key="alfresco.cluster.name">test_hazelcast_cluster</prop>
                <prop key="alfresco.hazelcast.password">test_hazelcast_cluster_password</prop>
            </props>
        </property>
    </bean>
    
    <bean id="hazelcastInstanceFactory" class="org.alfresco.repo.cluster.HazelcastInstanceFactory">
        <property name="config" ref="hazelcastConfig"/>
    </bean>
</beans>
